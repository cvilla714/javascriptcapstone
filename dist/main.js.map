{"version":3,"sources":["webpack://drum-machine/./src/game.js","webpack://drum-machine/./src/index.scss?deb5","webpack://drum-machine/webpack/bootstrap","webpack://drum-machine/webpack/runtime/global","webpack://drum-machine/webpack/runtime/make namespace object","webpack://drum-machine/webpack/runtime/publicPath","webpack://drum-machine/./src/index.js"],"names":["game","gameOptions","platformSpeedRange","mountainSpeed","spawnRange","platformSizeRange","platformHeightRange","platformHeighScale","platformVerticalLimit","playerGravity","jumpForce","playerStartPosition","jumps","coinPercent","firePercent","window","onload","gameConfig","type","Phaser","AUTO","width","height","scene","preloadGame","playGame","backgroundColor","physics","Game","focus","resize","addEventListener","load","image","platform","spritesheet","player","frameWidth","frameHeight","coin","fire","mountain","anims","create","key","frames","generateFrameNumbers","start","end","frameRate","repeat","yoyo","Scene","mountainGroup","add","group","platformGroup","removeCallback","platformPool","coinGroup","coinPool","fireGroup","firePool","addMountains","addedPlatforms","playerJumps","addPlatform","config","sprite","setGravityY","setDepth","dying","platformCollider","collider","isPlaying","play","overlap","tweens","targets","y","alpha","duration","ease","callbackScope","onComplete","killAndHide","remove","stop","setFrame","body","setVelocityY","world","removeCollider","input","on","jump","rightmostMountain","getRightmostMountain","Math","Between","setOrigin","setVelocityX","getChildren","forEach","max","x","platformWidth","posX","posY","getLength","getFirst","active","visible","newRatio","displayWidth","tileScaleX","scaleX","tileSprite","existing","setImmovable","nextPlatformDistance","velocity","setSize","touching","down","minDistance","rightmostPlatformHeight","platformDistance","nextPlatformWidth","platformRandomHeight","nextPlatformGap","minPlatformHeight","maxPlatformHeight","nextPlatformHeight","Clamp","canvas","document","querySelector","windowWidth","innerWidth","windowHeight","innerHeight","windowRatio","gameRatio","style"],"mappings":"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","file":"main.js","sourcesContent":["let game;\r\n\r\nimport player from \"./images/player.png\";\r\nimport platform from \"./images/platform.png\";\r\nimport coin from \"./images/coin.png\";\r\nimport fire from \"./images/fire.png\";\r\nimport mountain from \"./images/mountain.png\";\r\n\r\n// global game options\r\nlet gameOptions = {\r\n  // platform speed range, in pixels per second\r\n  platformSpeedRange: [300, 300],\r\n\r\n  // mountain speed, in pixels per second\r\n  mountainSpeed: 80,\r\n\r\n  // spawn range, how far should be the rightmost platform from the right edge\r\n  // before next platform spawns, in pixels\r\n  spawnRange: [80, 300],\r\n\r\n  // platform width range, in pixels\r\n  platformSizeRange: [90, 300],\r\n\r\n  // a height range between rightmost platform and next platform to be spawned\r\n  platformHeightRange: [-5, 5],\r\n\r\n  // a scale to be multiplied by platformHeightRange\r\n  platformHeighScale: 20,\r\n\r\n  // platform max and min height, as screen height ratio\r\n  platformVerticalLimit: [0.4, 0.8],\r\n\r\n  // player gravity\r\n  playerGravity: 900,\r\n\r\n  // player jump force\r\n  jumpForce: 400,\r\n\r\n  // player starting X position\r\n  playerStartPosition: 200,\r\n\r\n  // consecutive jumps allowed\r\n  jumps: 2,\r\n\r\n  // % of probability a coin appears on the platform\r\n  coinPercent: 25,\r\n\r\n  // % of probability a fire appears on the platform\r\n  firePercent: 25,\r\n};\r\n\r\nwindow.onload = function () {\r\n  // object containing configuration options\r\n  let gameConfig = {\r\n    type: Phaser.AUTO,\r\n    width: 1334,\r\n    height: 750,\r\n    scene: [preloadGame, playGame],\r\n    backgroundColor: 0x0c88c7,\r\n\r\n    // physics settings\r\n    physics: {\r\n      default: \"arcade\",\r\n    },\r\n  };\r\n  game = new Phaser.Game(gameConfig);\r\n  window.focus();\r\n  resize();\r\n  window.addEventListener(\"resize\", resize, false);\r\n};\r\n\r\n// preloadGame scene\r\nclass preloadGame extends Phaser.Scene {\r\n  constructor() {\r\n    super(\"PreloadGame\");\r\n  }\r\n  preload() {\r\n    this.load.image(\"platform\", { platform });\r\n\r\n    // player is a sprite sheet made by 24x48 pixels\r\n    this.load.spritesheet(\r\n      \"player\",\r\n      { player },\r\n      {\r\n        frameWidth: 24,\r\n        frameHeight: 48,\r\n      }\r\n    );\r\n\r\n    // the coin is a sprite sheet made by 20x20 pixels\r\n    this.load.spritesheet(\r\n      \"coin\",\r\n      { coin },\r\n      {\r\n        frameWidth: 20,\r\n        frameHeight: 20,\r\n      }\r\n    );\r\n\r\n    // the firecamp is a sprite sheet made by 32x58 pixels\r\n    this.load.spritesheet(\r\n      \"fire\",\r\n      { fire },\r\n      {\r\n        frameWidth: 40,\r\n        frameHeight: 70,\r\n      }\r\n    );\r\n\r\n    // mountains are a sprite sheet made by 512x512 pixels\r\n    this.load.spritesheet(\r\n      \"mountain\",\r\n      { mountain },\r\n      {\r\n        frameWidth: 512,\r\n        frameHeight: 512,\r\n      }\r\n    );\r\n  }\r\n  create() {\r\n    // setting player animation\r\n    this.anims.create({\r\n      key: \"run\",\r\n      frames: this.anims.generateFrameNumbers(\"player\", {\r\n        start: 0,\r\n        end: 1,\r\n      }),\r\n      frameRate: 8,\r\n      repeat: -1,\r\n    });\r\n\r\n    // setting coin animation\r\n    this.anims.create({\r\n      key: \"rotate\",\r\n      frames: this.anims.generateFrameNumbers(\"coin\", {\r\n        start: 0,\r\n        end: 5,\r\n      }),\r\n      frameRate: 15,\r\n      yoyo: true,\r\n      repeat: -1,\r\n    });\r\n\r\n    // setting fire animation\r\n    this.anims.create({\r\n      key: \"burn\",\r\n      frames: this.anims.generateFrameNumbers(\"fire\", {\r\n        start: 0,\r\n        end: 4,\r\n      }),\r\n      frameRate: 15,\r\n      repeat: -1,\r\n    });\r\n\r\n    this.scene.start(\"PlayGame\");\r\n  }\r\n}\r\n\r\n// playGame scene\r\nclass playGame extends Phaser.Scene {\r\n  constructor() {\r\n    super(\"PlayGame\");\r\n  }\r\n  create() {\r\n    // group with all active mountains.\r\n    this.mountainGroup = this.add.group();\r\n\r\n    // group with all active platforms.\r\n    this.platformGroup = this.add.group({\r\n      // once a platform is removed, it's added to the pool\r\n      removeCallback: function (platform) {\r\n        platform.scene.platformPool.add(platform);\r\n      },\r\n    });\r\n\r\n    // platform pool\r\n    this.platformPool = this.add.group({\r\n      // once a platform is removed from the pool, it's added to the active platforms group\r\n      removeCallback: function (platform) {\r\n        platform.scene.platformGroup.add(platform);\r\n      },\r\n    });\r\n\r\n    // group with all active coins.\r\n    this.coinGroup = this.add.group({\r\n      // once a coin is removed, it's added to the pool\r\n      removeCallback: function (coin) {\r\n        coin.scene.coinPool.add(coin);\r\n      },\r\n    });\r\n\r\n    // coin pool\r\n    this.coinPool = this.add.group({\r\n      // once a coin is removed from the pool, it's added to the active coins group\r\n      removeCallback: function (coin) {\r\n        coin.scene.coinGroup.add(coin);\r\n      },\r\n    });\r\n\r\n    // group with all active firecamps.\r\n    this.fireGroup = this.add.group({\r\n      // once a firecamp is removed, it's added to the pool\r\n      removeCallback: function (fire) {\r\n        fire.scene.firePool.add(fire);\r\n      },\r\n    });\r\n\r\n    // fire pool\r\n    this.firePool = this.add.group({\r\n      // once a fire is removed from the pool, it's added to the active fire group\r\n      removeCallback: function (fire) {\r\n        fire.scene.fireGroup.add(fire);\r\n      },\r\n    });\r\n\r\n    // adding a mountain\r\n    this.addMountains();\r\n\r\n    // keeping track of added platforms\r\n    this.addedPlatforms = 0;\r\n\r\n    // number of consecutive jumps made by the player so far\r\n    this.playerJumps = 0;\r\n\r\n    // adding a platform to the game, the arguments are platform width, x position and y position\r\n    this.addPlatform(game.config.width, game.config.width / 2, game.config.height * gameOptions.platformVerticalLimit[1]);\r\n\r\n    // adding the player;\r\n    this.player = this.physics.add.sprite(gameOptions.playerStartPosition, game.config.height * 0.7, \"player\");\r\n    this.player.setGravityY(gameOptions.playerGravity);\r\n    this.player.setDepth(2);\r\n\r\n    // the player is not dying\r\n    this.dying = false;\r\n\r\n    // setting collisions between the player and the platform group\r\n    this.platformCollider = this.physics.add.collider(\r\n      this.player,\r\n      this.platformGroup,\r\n      function () {\r\n        // play \"run\" animation if the player is on a platform\r\n        if (!this.player.anims.isPlaying) {\r\n          this.player.anims.play(\"run\");\r\n        }\r\n      },\r\n      null,\r\n      this\r\n    );\r\n\r\n    // setting collisions between the player and the coin group\r\n    this.physics.add.overlap(\r\n      this.player,\r\n      this.coinGroup,\r\n      function (player, coin) {\r\n        this.tweens.add({\r\n          targets: coin,\r\n          y: coin.y - 100,\r\n          alpha: 0,\r\n          duration: 800,\r\n          ease: \"Cubic.easeOut\",\r\n          callbackScope: this,\r\n          onComplete: function () {\r\n            this.coinGroup.killAndHide(coin);\r\n            this.coinGroup.remove(coin);\r\n          },\r\n        });\r\n      },\r\n      null,\r\n      this\r\n    );\r\n\r\n    // setting collisions between the player and the fire group\r\n    this.physics.add.overlap(\r\n      this.player,\r\n      this.fireGroup,\r\n      function (player, fire) {\r\n        this.dying = true;\r\n        this.player.anims.stop();\r\n        this.player.setFrame(2);\r\n        this.player.body.setVelocityY(-200);\r\n        this.physics.world.removeCollider(this.platformCollider);\r\n      },\r\n      null,\r\n      this\r\n    );\r\n\r\n    // checking for input\r\n    this.input.on(\"pointerdown\", this.jump, this);\r\n  }\r\n\r\n  // adding mountains\r\n  addMountains() {\r\n    let rightmostMountain = this.getRightmostMountain();\r\n    if (rightmostMountain < game.config.width * 2) {\r\n      let mountain = this.physics.add.sprite(rightmostMountain + Phaser.Math.Between(100, 350), game.config.height + Phaser.Math.Between(0, 100), \"mountain\");\r\n      mountain.setOrigin(0.5, 1);\r\n      mountain.body.setVelocityX(gameOptions.mountainSpeed * -1);\r\n      this.mountainGroup.add(mountain);\r\n      if (Phaser.Math.Between(0, 1)) {\r\n        mountain.setDepth(1);\r\n      }\r\n      mountain.setFrame(Phaser.Math.Between(0, 3));\r\n      this.addMountains();\r\n    }\r\n  }\r\n\r\n  // getting rightmost mountain x position\r\n  getRightmostMountain() {\r\n    let rightmostMountain = -200;\r\n    this.mountainGroup.getChildren().forEach(function (mountain) {\r\n      rightmostMountain = Math.max(rightmostMountain, mountain.x);\r\n    });\r\n    return rightmostMountain;\r\n  }\r\n\r\n  // the core of the script: platform are added from the pool or created on the fly\r\n  addPlatform(platformWidth, posX, posY) {\r\n    this.addedPlatforms++;\r\n    let platform;\r\n    if (this.platformPool.getLength()) {\r\n      platform = this.platformPool.getFirst();\r\n      platform.x = posX;\r\n      platform.y = posY;\r\n      platform.active = true;\r\n      platform.visible = true;\r\n      this.platformPool.remove(platform);\r\n      let newRatio = platformWidth / platform.displayWidth;\r\n      platform.displayWidth = platformWidth;\r\n      platform.tileScaleX = 1 / platform.scaleX;\r\n    } else {\r\n      platform = this.add.tileSprite(posX, posY, platformWidth, 32, \"platform\");\r\n      this.physics.add.existing(platform);\r\n      platform.body.setImmovable(true);\r\n      platform.body.setVelocityX(Phaser.Math.Between(gameOptions.platformSpeedRange[0], gameOptions.platformSpeedRange[1]) * -1);\r\n      platform.setDepth(2);\r\n      this.platformGroup.add(platform);\r\n    }\r\n    this.nextPlatformDistance = Phaser.Math.Between(gameOptions.spawnRange[0], gameOptions.spawnRange[1]);\r\n\r\n    // if this is not the starting platform...\r\n    if (this.addedPlatforms > 1) {\r\n      // is there a coin over the platform?\r\n      if (Phaser.Math.Between(1, 100) <= gameOptions.coinPercent) {\r\n        if (this.coinPool.getLength()) {\r\n          let coin = this.coinPool.getFirst();\r\n          coin.x = posX;\r\n          coin.y = posY - 96;\r\n          coin.alpha = 1;\r\n          coin.active = true;\r\n          coin.visible = true;\r\n          this.coinPool.remove(coin);\r\n        } else {\r\n          let coin = this.physics.add.sprite(posX, posY - 96, \"coin\");\r\n          coin.setImmovable(true);\r\n          coin.setVelocityX(platform.body.velocity.x);\r\n          coin.anims.play(\"rotate\");\r\n          coin.setDepth(2);\r\n          this.coinGroup.add(coin);\r\n        }\r\n      }\r\n\r\n      // is there a fire over the platform?\r\n      if (Phaser.Math.Between(1, 100) <= gameOptions.firePercent) {\r\n        if (this.firePool.getLength()) {\r\n          let fire = this.firePool.getFirst();\r\n          fire.x = posX - platformWidth / 2 + Phaser.Math.Between(1, platformWidth);\r\n          fire.y = posY - 46;\r\n          fire.alpha = 1;\r\n          fire.active = true;\r\n          fire.visible = true;\r\n          this.firePool.remove(fire);\r\n        } else {\r\n          let fire = this.physics.add.sprite(posX - platformWidth / 2 + Phaser.Math.Between(1, platformWidth), posY - 46, \"fire\");\r\n          fire.setImmovable(true);\r\n          fire.setVelocityX(platform.body.velocity.x);\r\n          fire.setSize(8, 2, true);\r\n          fire.anims.play(\"burn\");\r\n          fire.setDepth(2);\r\n          this.fireGroup.add(fire);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // the player jumps when on the ground, or once in the air as long as there are jumps left and the first jump was on the ground\r\n  // and obviously if the player is not dying\r\n  jump() {\r\n    if (!this.dying && (this.player.body.touching.down || (this.playerJumps > 0 && this.playerJumps < gameOptions.jumps))) {\r\n      if (this.player.body.touching.down) {\r\n        this.playerJumps = 0;\r\n      }\r\n      this.player.setVelocityY(gameOptions.jumpForce * -1);\r\n      this.playerJumps++;\r\n\r\n      // stops animation\r\n      this.player.anims.stop();\r\n    }\r\n  }\r\n\r\n  update() {\r\n    // game over\r\n    if (this.player.y > game.config.height) {\r\n      this.scene.start(\"PlayGame\");\r\n    }\r\n\r\n    this.player.x = gameOptions.playerStartPosition;\r\n\r\n    // recycling platforms\r\n    let minDistance = game.config.width;\r\n    let rightmostPlatformHeight = 0;\r\n    this.platformGroup.getChildren().forEach(function (platform) {\r\n      let platformDistance = game.config.width - platform.x - platform.displayWidth / 2;\r\n      if (platformDistance < minDistance) {\r\n        minDistance = platformDistance;\r\n        rightmostPlatformHeight = platform.y;\r\n      }\r\n      if (platform.x < -platform.displayWidth / 2) {\r\n        this.platformGroup.killAndHide(platform);\r\n        this.platformGroup.remove(platform);\r\n      }\r\n    }, this);\r\n\r\n    // recycling coins\r\n    this.coinGroup.getChildren().forEach(function (coin) {\r\n      if (coin.x < -coin.displayWidth / 2) {\r\n        this.coinGroup.killAndHide(coin);\r\n        this.coinGroup.remove(coin);\r\n      }\r\n    }, this);\r\n\r\n    // recycling fire\r\n    this.fireGroup.getChildren().forEach(function (fire) {\r\n      if (fire.x < -fire.displayWidth / 2) {\r\n        this.fireGroup.killAndHide(fire);\r\n        this.fireGroup.remove(fire);\r\n      }\r\n    }, this);\r\n\r\n    // recycling mountains\r\n    this.mountainGroup.getChildren().forEach(function (mountain) {\r\n      if (mountain.x < -mountain.displayWidth) {\r\n        let rightmostMountain = this.getRightmostMountain();\r\n        mountain.x = rightmostMountain + Phaser.Math.Between(100, 350);\r\n        mountain.y = game.config.height + Phaser.Math.Between(0, 100);\r\n        mountain.setFrame(Phaser.Math.Between(0, 3));\r\n        if (Phaser.Math.Between(0, 1)) {\r\n          mountain.setDepth(1);\r\n        }\r\n      }\r\n    }, this);\r\n\r\n    // adding new platforms\r\n    if (minDistance > this.nextPlatformDistance) {\r\n      let nextPlatformWidth = Phaser.Math.Between(gameOptions.platformSizeRange[0], gameOptions.platformSizeRange[1]);\r\n      let platformRandomHeight = gameOptions.platformHeighScale * Phaser.Math.Between(gameOptions.platformHeightRange[0], gameOptions.platformHeightRange[1]);\r\n      let nextPlatformGap = rightmostPlatformHeight + platformRandomHeight;\r\n      let minPlatformHeight = game.config.height * gameOptions.platformVerticalLimit[0];\r\n      let maxPlatformHeight = game.config.height * gameOptions.platformVerticalLimit[1];\r\n      let nextPlatformHeight = Phaser.Math.Clamp(nextPlatformGap, minPlatformHeight, maxPlatformHeight);\r\n      this.addPlatform(nextPlatformWidth, game.config.width + nextPlatformWidth / 2, nextPlatformHeight);\r\n    }\r\n  }\r\n}\r\nfunction resize() {\r\n  let canvas = document.querySelector(\"canvas\");\r\n  let windowWidth = window.innerWidth;\r\n  let windowHeight = window.innerHeight;\r\n  let windowRatio = windowWidth / windowHeight;\r\n  let gameRatio = game.config.width / game.config.height;\r\n  if (windowRatio < gameRatio) {\r\n    canvas.style.width = windowWidth + \"px\";\r\n    canvas.style.height = windowWidth / gameRatio + \"px\";\r\n  } else {\r\n    canvas.style.width = windowHeight * gameRatio + \"px\";\r\n    canvas.style.height = windowHeight + \"px\";\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","import \"./index.scss\";\nimport \"./game.js\";\n\n"],"sourceRoot":""}